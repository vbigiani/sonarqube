Installazione Openshift-Origin:

- installare Virtualbox

Installare Minishift

	minishift config set vm-driver virtualbox
	
	minishift start

modificare in Virtualbox per portare la RAM a 4 GB

quando si riavvia virtualbox va eseguito:
	minishift ssh docker start origin



su openshift creare progetto gft-jenkins e gft-sonarqube;

	minishift ssh
	docker exec origin oc project gft-jenkins
	docker exec origin oc adm policy add-scc-to-user hostaccess -z default
	docker exec origin oc adm policy add-scc-to-user hostmount-anyuid -z default



	per ribuildare l'immagine di Jenkins:
	
	sudo yum install git -y
	git clone https://github.com/vbigiani/sonarqube.git
	cd sonarqube/docker/jenkins
	./build-image.sh
	
	
	alias oc='docker exec origin oc'
	jenkins()  { docker exec `docker ps | grep jenkins_jenkins | awk '{ print $1; }'` $*; }

eseguire (da windows) build-image.sh per creare immagine di Jenkins configurata correttamente

installare Jenkins.yaml e sonarqube.yaml.

per fare login su Jenkins visualizzare i log su Openshift per trovare la password.

-----------------------------------

su Jenkins installare i plugin di default, blue ocean, sonarqube scanner, docker

su Jenkins configurare il collegamento verso sonarqube (si chiami Localhost, con URL http://sonarqube-gft-dev.192.168.99.100.nip.io )
potrebbe essere necessario generare un token su SonarQube e impostarlo su Jenkins

su sonarqube installare i plugin dei linguaggi

su Sonarqube inserire webhook verso Jenkins (url: http://jenkins-gft-jenkins.192.168.99.100.nip.io/sonarqube-webhook/ )

su Jenkins creare una pipeline da SCM GIT
